{"version":3,"file":"static/js/704.609998fc.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/initialState.js","components/Searchbar/Searchbar.jsx","pages/MoviesPage/MoviesPage.jsx","shared/MoviesList/MoviesList.jsx","shared/api/movies-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Searchbar_searchbar__0FWoU\",\"searchForm\":\"Searchbar_searchForm__Bt5yh\",\"searchFormButton\":\"Searchbar_searchFormButton__Y7AQk\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__EPPP6\",\"searchFormInput\":\"Searchbar_searchFormInput__k+juR\"};","const initialState = {\n  searchQuery: '',\n};\n\nexport default initialState;\n","import { useState } from 'react';\nimport { ImSearch } from 'react-icons/im';\nimport PropTypes from 'prop-types';\nimport css from './Searchbar.module.css';\nimport initialState from './initialState';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [state, setState] = useState({\n    ...initialState,\n  });\n\n  const handleChange = event => {\n    const { name, value } = event.currentTarget;\n    setState(prevState => {\n      return { ...prevState, [name]: value };\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    onSubmit(state);\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setState({ ...state });\n  };\n\n  return (\n    <div className={css.searchbar}>\n      <form className={css.searchForm} onSubmit={handleSubmit}>\n        <input\n          onChange={handleChange}\n          className={css.searchFormInput}\n          name=\"searchQuery\"\n          value={state.searchQuery}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          required\n        />\n        <button type=\"submit\" className={css.searchFormButton}>\n          <ImSearch style={{ width: 22, height: 22 }} />\n        </button>\n      </form>\n    </div>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport api from '../../shared/api/movies-api';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport MoviesList from '../../shared/MoviesList/MoviesList';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const searchQuery = searchParams.get('searchQuery');\n\n  useEffect(() => {\n    if (searchQuery) {\n      const fetchMovies = async () => {\n        try {\n          const movies = await api.getMovieByName(searchQuery);\n          setMovies(movies);\n        } catch ({ response }) {\n          console.log(response.data.message);\n        }\n      };\n      fetchMovies();\n    }\n  }, [searchQuery]);\n\n  const handleFormSubmit = ({ searchQuery }) => {\n    setSearchParams({ searchQuery });\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={handleFormSubmit} />\n      <MoviesList movies={movies} />\n    </>\n  );\n};\n\nexport default MoviesPage;\n","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  const elements = movies.map(({ title, id }) => (\n    <li key={id}>\n      <Link to={`/movies/${id}`} state={{ from: location }}>\n        {title}\n      </Link>\n    </li>\n  ));\n  return <ul>{elements}</ul>;\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n\nexport default MoviesList;\n","import axios from 'axios';\n\nconst URL = 'https://api.themoviedb.org/3';\n\nconst searchTrendingMovies = async () => {\n  const response = await axios.get(\n    `${URL}/trending/movie/day?api_key=a4c507e56effa1158f9e8b1f806bf6ad`\n  );\n\n  return response.data.results;\n};\n\nconst getMovieById = async id => {\n  const response = await axios.get(\n    `${URL}/movie/${id}?api_key=a4c507e56effa1158f9e8b1f806bf6ad`\n  );\n\n  return response.data;\n};\n\nconst getMovieByName = async searchQuery => {\n  const response = await axios.get(\n    `${URL}/search/movie?api_key=a4c507e56effa1158f9e8b1f806bf6ad&query=${searchQuery}`\n  );\n  return response.data.results;\n};\n\nconst getMovieCredits = async id => {\n  const response = await axios.get(\n    `${URL}/movie/${id}/credits?api_key=a4c507e56effa1158f9e8b1f806bf6ad`\n  );\n  return response.data.cast;\n};\n\nconst getMovieReviews = async id => {\n  const response = await axios.get(\n    `${URL}/movie/${id}/reviews?api_key=a4c507e56effa1158f9e8b1f806bf6ad`\n  );\n  return response.data.results;\n};\n\nconst api = {\n  searchTrendingMovies,\n  getMovieById,\n  getMovieByName,\n  getMovieCredits,\n  getMovieReviews,\n};\n\nexport default api;\n"],"names":["searchQuery","onSubmit","useState","initialState","state","setState","resetForm","className","css","event","preventDefault","onChange","currentTarget","name","value","prevState","type","autoComplete","autoFocus","placeholder","required","style","width","height","movies","setMovies","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMovies","api","response","console","log","data","message","MoviesList","location","useLocation","elements","map","title","id","to","from","URL","searchTrendingMovies","axios","results","getMovieById","getMovieByName","getMovieCredits","cast","getMovieReviews"],"sourceRoot":""}